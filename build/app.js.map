{"version":3,"file":"app.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://fastly/./src/app.ux?fb87","webpack://fastly/./src/helper/ajax.js","webpack://fastly/./src/helper/apis/example.js","webpack://fastly/./src/helper/apis/index.js","webpack://fastly/./src/helper/utils.js","webpack://fastly/./src/helper/apis/ sync \\.js","webpack://fastly/webpack/bootstrap","webpack://fastly/webpack/runtime/global","webpack://fastly/webpack/runtime/hasOwnProperty shorthand","webpack://fastly/./src/app.ux"],"sourcesContent":["module.exports = function __scriptModule__ (module, exports, $app_require$){\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nconst $utils = require('./helper/utils').default;\n\nconst $apis = require('./helper/apis').default;\n\nconst hook2global = global.__proto__ || global;\nhook2global.$utils = $utils;\nhook2global.$apis = $apis;\nvar _default = {\n  onCreate() {}\n\n};\nexports.default = _default;}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _system = _interopRequireDefault($app_require$(\"@app-module/system.fetch\"));\n\nvar _utils = _interopRequireDefault(require(\"./utils\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * å°è£…äº†ä¸€äº›ç½‘ç»œè¯·æ±‚æ–¹æ³•ï¼Œæ–¹ä¾¿é€šè¿‡ Promise çš„å½¢å¼è¯·æ±‚æ¥å£\n */\nconst TIMEOUT = 20000;\n\nPromise.prototype.finally = function (callback) {\n  const P = this.constructor;\n  return this.then(value => P.resolve(callback()).then(() => value), reason => P.resolve(callback()).then(() => {\n    throw reason;\n  }));\n};\n/**\n * è°ƒç”¨å¿«åº”ç”¨ fetch æ¥å£åšç½‘ç»œè¯·æ±‚\n * @param params\n */\n\n\nfunction fetchPromise(params) {\n  return new Promise((resolve, reject) => {\n    _system.default.fetch({\n      url: params.url,\n      method: params.method,\n      data: params.data\n    }).then(response => {\n      const result = response.data;\n      const content = JSON.parse(result.data);\n      /* @desc: å¯è·Ÿå…·ä½“ä¸åŒä¸šåŠ¡æ¥å£æ•°æ®ï¼Œè¿”å›ä½ æ‰€éœ€è¦çš„éƒ¨åˆ†ï¼Œä½¿å¾—ä½¿ç”¨å°½å¯èƒ½ä¾¿æ· */\n\n      content.success ? resolve(content.value) : resolve(content.message);\n    }).catch((error, code) => {\n      console.log(`ğŸ› request fail, code = ${code}`);\n      reject(error);\n    }).finally(() => {\n      console.log(`âœ”ï¸ request @${params.url} has been completed.`);\n      resolve();\n    });\n  });\n}\n/**\n * å¤„ç†ç½‘ç»œè¯·æ±‚ï¼Œtimeout æ˜¯ç½‘ç»œè¯·æ±‚è¶…æ—¶ä¹‹åè¿”å›ï¼Œé»˜è®¤ 20s å¯è‡ªè¡Œä¿®æ”¹\n * @param params\n */\n\n\nfunction requestHandle(params, timeout = TIMEOUT) {\n  try {\n    return Promise.race([fetchPromise(params), new Promise((resolve, reject) => {\n      setTimeout(() => {\n        reject(new Error('ç½‘ç»œçŠ¶å†µä¸å¤ªå¥½ï¼Œå†åˆ·æ–°ä¸€æ¬¡ï¼Ÿ'));\n      }, timeout);\n    })]);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nvar _default = {\n  post: function (url, params) {\n    return requestHandle({\n      method: 'post',\n      url: url,\n      data: params\n    });\n  },\n  get: function (url, params) {\n    return requestHandle({\n      method: 'get',\n      url: _utils.default.queryString(url, params)\n    });\n  },\n  put: function (url, params) {\n    return requestHandle({\n      method: 'put',\n      url: url,\n      data: params\n    });\n  } // å¦‚æœï¼Œmethod æ‚¨éœ€è¦æ›´å¤šç±»å‹ï¼Œå¯è‡ªè¡Œæ·»åŠ æ›´å¤šæ–¹æ³•ï¼›\n\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _ajax = _interopRequireDefault(require(\"../ajax\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @desc åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ‚¨å¯ä»¥å°† baseUrl æ›¿æ¢ä¸ºæ‚¨çš„è¯·æ±‚åœ°å€å‰ç¼€ï¼›\n *\n * å·²å°† $apis æŒ‚è½½åœ¨ globalï¼Œæ‚¨å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼ï¼Œè¿›è¡Œè°ƒç”¨ï¼š\n * $apis.example.getApi().then().catch().finally()\n *\n * å¤‡æ³¨ï¼šå¦‚æœæ‚¨ä¸éœ€è¦å‘èµ·è¯·æ±‚ï¼Œåˆ é™¤ apis ç›®å½•ï¼Œä»¥åŠ app.ux ä¸­å¼•ç”¨å³å¯ï¼›\n */\nconst baseUrl = 'https://api.exampel.com/';\nvar _default = {\n  getApi(data) {\n    return _ajax.default.get(`${baseUrl}your-project-api`, data);\n  },\n\n  postOtherApi(data) {\n    return _ajax.default.post(`${baseUrl}your-project-api`, data);\n  }\n\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * å¯¼å‡º apis ä¸‹ç›®å½•çš„æ‰€æœ‰æ¥å£\n */\nconst files = require.context('.', true, /\\.js/);\n\nconst modules = {};\nfiles.keys().forEach(key => {\n  if (key === './index.js') {\n    return;\n  }\n\n  modules[key.replace(/(^\\.\\/|\\.js$)/g, '')] = files(key).default;\n});\nvar _default = modules;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * æ‚¨å¯ä»¥å°†å¸¸ç”¨çš„æ–¹æ³•ã€æˆ–ç³»ç»Ÿ APIï¼Œç»Ÿä¸€å°è£…ï¼Œæš´éœ²å…¨å±€ï¼Œä»¥ä¾¿å„é¡µé¢ã€ç»„ä»¶è°ƒç”¨ï¼Œè€Œæ— éœ€ require / import.\n */\nconst prompt = $app_require$('@app-module/system.prompt');\n/**\n * æ‹¼æ¥ url å’Œå‚æ•°\n */\n\n\nfunction queryString(url, query) {\n  let str = [];\n\n  for (let key in query) {\n    str.push(key + '=' + query[key]);\n  }\n\n  let paramStr = str.join('&');\n  return paramStr ? `${url}?${paramStr}` : url;\n}\n\nfunction showToast(message = '', duration = 0) {\n  if (!message) return;\n  prompt.showToast({\n    message: message,\n    duration\n  });\n}\n\nvar _default = {\n  showToast,\n  queryString\n};\nexports.default = _default;","var map = {\n\t\"./example.js\": \"./src/helper/apis/example.js\",\n\t\"./index.js\": \"./src/helper/apis/index.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/helper/apis sync recursive \\\\.js\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","\nvar $app_style$ = {}\nvar $app_script$ = require(\"!../../../../../../Applications/å¿«åº”ç”¨å¼€å‘å·¥å…·.app/Contents/Resources/app/extensions/hap-debugger/node_modules/@hap-toolkit/dsl-xvm/lib/loaders/script-loader.js!../../../../../../Applications/å¿«åº”ç”¨å¼€å‘å·¥å…·.app/Contents/Resources/app/extensions/hap-debugger/node_modules/@hap-toolkit/dsl-xvm/lib/loaders/module-loader.js!../../../../../../Applications/å¿«åº”ç”¨å¼€å‘å·¥å…·.app/Contents/Resources/app/extensions/hap-debugger/node_modules/@hap-toolkit/dsl-xvm/lib/loaders/manifest-loader.js?path=/Users/pmhuai/Desktop/github/fastly/src!../../../../../../Applications/å¿«åº”ç”¨å¼€å‘å·¥å…·.app/Contents/Resources/app/extensions/hap-debugger/node_modules/babel-loader/lib/index.js?cwd=/Users/pmhuai/Desktop/github/fastly&cacheDirectory&comments=false&configFile=/Applications/å¿«åº”ç”¨å¼€å‘å·¥å…·.app/Contents/Resources/app/extensions/hap-debugger/node_modules/@hap-toolkit/packager/babel.config.js!../../../../../../Applications/å¿«åº”ç”¨å¼€å‘å·¥å…·.app/Contents/Resources/app/extensions/hap-debugger/node_modules/@hap-toolkit/dsl-xvm/lib/loaders/fragment-loader.js?index=0&type=script!./app.ux?uxType=app\")\n\n$app_define$('@app-application/app', [], function ($app_require$, $app_exports$, $app_module$) {\n  \n  $app_script$($app_module$, $app_exports$, $app_require$)\n  if ($app_exports$.__esModule && $app_exports$.default) {\n    $app_module$.exports = $app_exports$.default\n  }\n  $app_module$.exports.manifest = require(\"./manifest.json\")\n  $app_module$.exports.style = { list: [ $app_style$ ] }\n  \n})\n$app_bootstrap$('@app-application/app', { packagerVersion: QUICKAPP_TOOLKIT_VERSION })\n"],"names":[],"sourceRoot":""}