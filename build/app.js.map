{"version":3,"file":"app.js","mappings":";;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["webpack://fastly/./src/app.ux?fb87","webpack://fastly/./src/helper/ajax.js","webpack://fastly/./src/helper/apis/example.js","webpack://fastly/./src/helper/apis/index.js","webpack://fastly/./src/helper/utils.js","webpack://fastly/./src/helper/apis/ sync \\.js","webpack://fastly/webpack/bootstrap","webpack://fastly/webpack/runtime/global","webpack://fastly/webpack/runtime/hasOwnProperty shorthand","webpack://fastly/./src/app.ux"],"sourcesContent":["module.exports = function __scriptModule__ (module, exports, $app_require$){\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nconst $utils = require('./helper/utils').default;\n\nconst $apis = require('./helper/apis').default;\n\nconst hook2global = global.__proto__ || global;\nhook2global.$utils = $utils;\nhook2global.$apis = $apis;\nvar _default = {\n  onCreate() {}\n\n};\nexports.default = _default;}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _system = _interopRequireDefault($app_require$(\"@app-module/system.fetch\"));\n\nvar _utils = _interopRequireDefault(require(\"./utils\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * 封装了一些网络请求方法，方便通过 Promise 的形式请求接口\n */\nconst TIMEOUT = 20000;\n\nPromise.prototype.finally = function (callback) {\n  const P = this.constructor;\n  return this.then(value => P.resolve(callback()).then(() => value), reason => P.resolve(callback()).then(() => {\n    throw reason;\n  }));\n};\n/**\n * 调用快应用 fetch 接口做网络请求\n * @param params\n */\n\n\nfunction fetchPromise(params) {\n  return new Promise((resolve, reject) => {\n    _system.default.fetch({\n      url: params.url,\n      method: params.method,\n      data: params.data\n    }).then(response => {\n      const result = response.data;\n      const content = JSON.parse(result.data);\n      /* @desc: 可跟具体不同业务接口数据，返回你所需要的部分，使得使用尽可能便捷 */\n\n      content.success ? resolve(content.value) : resolve(content.message);\n    }).catch((error, code) => {\n      console.log(`🐛 request fail, code = ${code}`);\n      reject(error);\n    }).finally(() => {\n      console.log(`✔️ request @${params.url} has been completed.`);\n      resolve();\n    });\n  });\n}\n/**\n * 处理网络请求，timeout 是网络请求超时之后返回，默认 20s 可自行修改\n * @param params\n */\n\n\nfunction requestHandle(params, timeout = TIMEOUT) {\n  try {\n    return Promise.race([fetchPromise(params), new Promise((resolve, reject) => {\n      setTimeout(() => {\n        reject(new Error('网络状况不太好，再刷新一次？'));\n      }, timeout);\n    })]);\n  } catch (error) {\n    console.log(error);\n  }\n}\n\nvar _default = {\n  post: function (url, params) {\n    return requestHandle({\n      method: 'post',\n      url: url,\n      data: params\n    });\n  },\n  get: function (url, params) {\n    return requestHandle({\n      method: 'get',\n      url: _utils.default.queryString(url, params)\n    });\n  },\n  put: function (url, params) {\n    return requestHandle({\n      method: 'put',\n      url: url,\n      data: params\n    });\n  } // 如果，method 您需要更多类型，可自行添加更多方法；\n\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _ajax = _interopRequireDefault(require(\"../ajax\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @desc 在实际开发中，您可以将 baseUrl 替换为您的请求地址前缀；\n *\n * 已将 $apis 挂载在 global，您可以通过如下方式，进行调用：\n * $apis.example.getApi().then().catch().finally()\n *\n * 备注：如果您不需要发起请求，删除 apis 目录，以及 app.ux 中引用即可；\n */\nconst baseUrl = 'https://api.exampel.com/';\nvar _default = {\n  getApi(data) {\n    return _ajax.default.get(`${baseUrl}your-project-api`, data);\n  },\n\n  postOtherApi(data) {\n    return _ajax.default.post(`${baseUrl}your-project-api`, data);\n  }\n\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * 导出 apis 下目录的所有接口\n */\nconst files = require.context('.', true, /\\.js/);\n\nconst modules = {};\nfiles.keys().forEach(key => {\n  if (key === './index.js') {\n    return;\n  }\n\n  modules[key.replace(/(^\\.\\/|\\.js$)/g, '')] = files(key).default;\n});\nvar _default = modules;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\n * 您可以将常用的方法、或系统 API，统一封装，暴露全局，以便各页面、组件调用，而无需 require / import.\n */\nconst prompt = $app_require$('@app-module/system.prompt');\n/**\n * 拼接 url 和参数\n */\n\n\nfunction queryString(url, query) {\n  let str = [];\n\n  for (let key in query) {\n    str.push(key + '=' + query[key]);\n  }\n\n  let paramStr = str.join('&');\n  return paramStr ? `${url}?${paramStr}` : url;\n}\n\nfunction showToast(message = '', duration = 0) {\n  if (!message) return;\n  prompt.showToast({\n    message: message,\n    duration\n  });\n}\n\nvar _default = {\n  showToast,\n  queryString\n};\nexports.default = _default;","var map = {\n\t\"./example.js\": \"./src/helper/apis/example.js\",\n\t\"./index.js\": \"./src/helper/apis/index.js\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"./src/helper/apis sync recursive \\\\.js\";","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","\nvar $app_style$ = {}\nvar $app_script$ = require(\"!../../../../../../Applications/快应用开发工具.app/Contents/Resources/app/extensions/hap-debugger/node_modules/@hap-toolkit/dsl-xvm/lib/loaders/script-loader.js!../../../../../../Applications/快应用开发工具.app/Contents/Resources/app/extensions/hap-debugger/node_modules/@hap-toolkit/dsl-xvm/lib/loaders/module-loader.js!../../../../../../Applications/快应用开发工具.app/Contents/Resources/app/extensions/hap-debugger/node_modules/@hap-toolkit/dsl-xvm/lib/loaders/manifest-loader.js?path=/Users/pmhuai/Desktop/github/fastly/src!../../../../../../Applications/快应用开发工具.app/Contents/Resources/app/extensions/hap-debugger/node_modules/babel-loader/lib/index.js?cwd=/Users/pmhuai/Desktop/github/fastly&cacheDirectory&comments=false&configFile=/Applications/快应用开发工具.app/Contents/Resources/app/extensions/hap-debugger/node_modules/@hap-toolkit/packager/babel.config.js!../../../../../../Applications/快应用开发工具.app/Contents/Resources/app/extensions/hap-debugger/node_modules/@hap-toolkit/dsl-xvm/lib/loaders/fragment-loader.js?index=0&type=script!./app.ux?uxType=app\")\n\n$app_define$('@app-application/app', [], function ($app_require$, $app_exports$, $app_module$) {\n  \n  $app_script$($app_module$, $app_exports$, $app_require$)\n  if ($app_exports$.__esModule && $app_exports$.default) {\n    $app_module$.exports = $app_exports$.default\n  }\n  $app_module$.exports.manifest = require(\"./manifest.json\")\n  $app_module$.exports.style = { list: [ $app_style$ ] }\n  \n})\n$app_bootstrap$('@app-application/app', { packagerVersion: QUICKAPP_TOOLKIT_VERSION })\n"],"names":[],"sourceRoot":""}